# Git stash

- The pause button

## The core workflow

1. `git stash`: your dirty changes are "saved" and removed from your working directory
   - your repo is now clean
2. Do other work: switch branches, pull changes, or run tests
3. `git stash pop`: the play button
   - git brings back your unsaved changes and reapplies them to your current branch
   - then deletes your stash entry

## The `-u` flag

- By default, `git stash` only saves tracked files (files git knows about)
- If you created a file and haven't `git add` it yes, a normal stash won't save it

```bash
git stash -u # untracked: ensures everything you worked on is moved into the stash
```

## Managing the stack

- We're not limited to one stash. We can have a whole list of them

```bash
git stash list
git stash save 'description' # stash with a name
git stash apply # applies the changes, but differently from pop, it doesn't delete them from the stash
```

## Selecting a specific stash

- Identify its index number

```bash
git stash list

# output
stash@{0}: <desc> # stash@{<id>}
stash@{1}: <desc>
stash@{2}: <desc>
```

- Bring it back

```bash
git stash apply stash@{<id>}
```

## Summary

| command                     | result                                        |
| --------------------------- | --------------------------------------------- |
| git stash                   | saves local changes and reverts to HEAD       |
| git stash -u                | saves changes including new (untracked) files |
| git stash list              | shows 'drawer' of saved work                  |
| git stash pop               | applies latest stash + removes it from list   |
| git stash apply             | applies latest stash + keeps it in the list   |
| git stash drop              | deletes most recent stash without applying it |
| git stash clear             | deletes every stash you have                  |
| git stash show -p           | shows the actual code on the stash            |
| git stash option stash@{id} | performs the command on a specific stash item |
